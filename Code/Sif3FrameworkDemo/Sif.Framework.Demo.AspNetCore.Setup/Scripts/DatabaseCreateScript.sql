CREATE TABLE "APPLICATION_REGISTER" (
    "APPLICATION_REGISTER_ID" INTEGER NOT NULL CONSTRAINT "PK_APPLICATION_REGISTER" PRIMARY KEY AUTOINCREMENT,
    "APPLICATION_KEY" TEXT NULL,
    "SHARED_SECRET" TEXT NULL
);


CREATE TABLE "ENVIRONMENT" (
    "ENVIRONMENT_ID" TEXT NOT NULL CONSTRAINT "PK_ENVIRONMENT" PRIMARY KEY,
    "AUTHENTICATION_METHOD" TEXT NULL,
    "CONSUMER_NAME" TEXT NULL,
    "INSTANCE_ID" TEXT NULL,
    "SESSION_TOKEN" TEXT NULL,
    "SOLUTION_ID" TEXT NULL,
    "TYPE" TEXT NULL,
    "USER_TOKEN" TEXT NULL
);


CREATE TABLE "ENVIRONMENT_REGISTER" (
    "ENVIRONMENT_REGISTER_ID" INTEGER NOT NULL CONSTRAINT "PK_ENVIRONMENT_REGISTER" PRIMARY KEY AUTOINCREMENT,
    "APPLICATION_KEY" TEXT NULL,
    "INSTANCE_ID" TEXT NULL,
    "SOLUTION_ID" TEXT NULL,
    "USER_TOKEN" TEXT NULL,
    "APPLICATION_REGISTER_ID" INTEGER NULL,
    CONSTRAINT "FK_ENVIRONMENT_REGISTER_APPLICATION_REGISTER_APPLICATION_REGISTER_ID" FOREIGN KEY ("APPLICATION_REGISTER_ID") REFERENCES "APPLICATION_REGISTER" ("APPLICATION_REGISTER_ID") ON DELETE CASCADE
);


CREATE TABLE "APPLICATION_INFO" (
    "APPLICATION_INFO_ID" INTEGER NOT NULL CONSTRAINT "PK_APPLICATION_INFO" PRIMARY KEY AUTOINCREMENT,
    "APPLICATION_KEY" TEXT NULL,
    "DATA_MODEL_NAMESPACE" TEXT NULL,
    "SUPPORTED_INFRASTRUCTURE_VERSION" TEXT NULL,
    "TRANSPORT" TEXT NULL,
    "ENVIRONMENT_ID" TEXT NULL,
    CONSTRAINT "FK_APPLICATION_INFO_ENVIRONMENT_ENVIRONMENT_ID" FOREIGN KEY ("ENVIRONMENT_ID") REFERENCES "ENVIRONMENT" ("ENVIRONMENT_ID") ON DELETE CASCADE
);


CREATE TABLE "INFRASTRUCTURE_SERVICE" (
    "INFRASTRUCTURE_SERVICE_ID" INTEGER NOT NULL CONSTRAINT "PK_INFRASTRUCTURE_SERVICE" PRIMARY KEY AUTOINCREMENT,
    "NAME" TEXT NULL,
    "VALUE" TEXT NULL,
    "ENVIRONMENT_ID" TEXT NULL,
    "ENVIRONMENT_REGISTER_ID" INTEGER NULL,
    CONSTRAINT "FK_INFRASTRUCTURE_SERVICE_ENVIRONMENT_ENVIRONMENT_ID" FOREIGN KEY ("ENVIRONMENT_ID") REFERENCES "ENVIRONMENT" ("ENVIRONMENT_ID") ON DELETE CASCADE,
    CONSTRAINT "FK_INFRASTRUCTURE_SERVICE_ENVIRONMENT_REGISTER_ENVIRONMENT_REGISTER_ID" FOREIGN KEY ("ENVIRONMENT_REGISTER_ID") REFERENCES "ENVIRONMENT_REGISTER" ("ENVIRONMENT_REGISTER_ID") ON DELETE CASCADE
);


CREATE TABLE "PROVISIONED_ZONE" (
    "PROVISIONED_ZONE_ID" INTEGER NOT NULL CONSTRAINT "PK_PROVISIONED_ZONE" PRIMARY KEY AUTOINCREMENT,
    "SIF_ID" TEXT NULL,
    "ENVIRONMENT_ID" TEXT NULL,
    "ENVIRONMENT_REGISTER_ID" INTEGER NULL,
    CONSTRAINT "FK_PROVISIONED_ZONE_ENVIRONMENT_ENVIRONMENT_ID" FOREIGN KEY ("ENVIRONMENT_ID") REFERENCES "ENVIRONMENT" ("ENVIRONMENT_ID") ON DELETE CASCADE,
    CONSTRAINT "FK_PROVISIONED_ZONE_ENVIRONMENT_REGISTER_ENVIRONMENT_REGISTER_ID" FOREIGN KEY ("ENVIRONMENT_REGISTER_ID") REFERENCES "ENVIRONMENT_REGISTER" ("ENVIRONMENT_REGISTER_ID") ON DELETE CASCADE
);


CREATE TABLE "ZONE" (
    "ZONE_ID" INTEGER NOT NULL CONSTRAINT "PK_ZONE" PRIMARY KEY AUTOINCREMENT,
    "DESCRIPTION" TEXT NULL,
    "SIF_ID" TEXT NULL,
    "ENVIRONMENT_ID" TEXT NULL,
    "ENVIRONMENT_REGISTER_ID" INTEGER NULL,
    CONSTRAINT "FK_ZONE_ENVIRONMENT_ENVIRONMENT_ID" FOREIGN KEY ("ENVIRONMENT_ID") REFERENCES "ENVIRONMENT" ("ENVIRONMENT_ID") ON DELETE CASCADE,
    CONSTRAINT "FK_ZONE_ENVIRONMENT_REGISTER_ENVIRONMENT_REGISTER_ID" FOREIGN KEY ("ENVIRONMENT_REGISTER_ID") REFERENCES "ENVIRONMENT_REGISTER" ("ENVIRONMENT_REGISTER_ID") ON DELETE CASCADE
);


CREATE TABLE "PRODUCT_IDENTITY" (
    "PRODUCT_IDENTITY_ID" INTEGER NOT NULL CONSTRAINT "PK_PRODUCT_IDENTITY" PRIMARY KEY AUTOINCREMENT,
    "ICON_URI" TEXT NULL,
    "PRODUCT_NAME" TEXT NULL,
    "PRODUCT_VERSION" TEXT NULL,
    "VENDOR_NAME" TEXT NULL,
    "ADAPTER_PRODUCT_ID" INTEGER NULL,
    "APPLICATION_PRODUCT_ID" INTEGER NULL,
    CONSTRAINT "FK_PRODUCT_IDENTITY_APPLICATION_INFO_ADAPTER_PRODUCT_ID" FOREIGN KEY ("ADAPTER_PRODUCT_ID") REFERENCES "APPLICATION_INFO" ("APPLICATION_INFO_ID") ON DELETE CASCADE,
    CONSTRAINT "FK_PRODUCT_IDENTITY_APPLICATION_INFO_APPLICATION_PRODUCT_ID" FOREIGN KEY ("APPLICATION_PRODUCT_ID") REFERENCES "APPLICATION_INFO" ("APPLICATION_INFO_ID") ON DELETE CASCADE
);


CREATE TABLE "SERVICE" (
    "SERVICE_ID" INTEGER NOT NULL CONSTRAINT "PK_SERVICE" PRIMARY KEY AUTOINCREMENT,
    "CONTEXTID" TEXT NULL,
    "NAME" TEXT NULL,
    "TYPE" TEXT NULL,
    "PROVISIONED_ZONE_ID" INTEGER NULL,
    CONSTRAINT "FK_SERVICE_PROVISIONED_ZONE_PROVISIONED_ZONE_ID" FOREIGN KEY ("PROVISIONED_ZONE_ID") REFERENCES "PROVISIONED_ZONE" ("PROVISIONED_ZONE_ID") ON DELETE CASCADE
);


CREATE TABLE "PROPERTY" (
    "PROPERTY_ID" INTEGER NOT NULL CONSTRAINT "PK_PROPERTY" PRIMARY KEY AUTOINCREMENT,
    "NAME" TEXT NULL,
    "VALUE" TEXT NULL,
    "ZONE_ID" INTEGER NULL,
    CONSTRAINT "FK_PROPERTY_ZONE_ZONE_ID" FOREIGN KEY ("ZONE_ID") REFERENCES "ZONE" ("ZONE_ID") ON DELETE CASCADE
);


CREATE TABLE "RIGHT" (
    "RIGHT_ID" INTEGER NOT NULL CONSTRAINT "PK_RIGHT" PRIMARY KEY AUTOINCREMENT,
    "TYPE" TEXT NULL,
    "VALUE" TEXT NULL,
    "SERVICE_ID" INTEGER NULL,
    CONSTRAINT "FK_RIGHT_SERVICE_SERVICE_ID" FOREIGN KEY ("SERVICE_ID") REFERENCES "SERVICE" ("SERVICE_ID") ON DELETE CASCADE
);


CREATE UNIQUE INDEX "IX_APPLICATION_INFO_ENVIRONMENT_ID" ON "APPLICATION_INFO" ("ENVIRONMENT_ID");


CREATE INDEX "IX_ENVIRONMENT_REGISTER_APPLICATION_REGISTER_ID" ON "ENVIRONMENT_REGISTER" ("APPLICATION_REGISTER_ID");


CREATE INDEX "IX_INFRASTRUCTURE_SERVICE_ENVIRONMENT_ID" ON "INFRASTRUCTURE_SERVICE" ("ENVIRONMENT_ID");


CREATE INDEX "IX_INFRASTRUCTURE_SERVICE_ENVIRONMENT_REGISTER_ID" ON "INFRASTRUCTURE_SERVICE" ("ENVIRONMENT_REGISTER_ID");


CREATE UNIQUE INDEX "IX_PRODUCT_IDENTITY_ADAPTER_PRODUCT_ID" ON "PRODUCT_IDENTITY" ("ADAPTER_PRODUCT_ID");


CREATE UNIQUE INDEX "IX_PRODUCT_IDENTITY_APPLICATION_PRODUCT_ID" ON "PRODUCT_IDENTITY" ("APPLICATION_PRODUCT_ID");


CREATE INDEX "IX_PROPERTY_ZONE_ID" ON "PROPERTY" ("ZONE_ID");


CREATE INDEX "IX_PROVISIONED_ZONE_ENVIRONMENT_ID" ON "PROVISIONED_ZONE" ("ENVIRONMENT_ID");


CREATE INDEX "IX_PROVISIONED_ZONE_ENVIRONMENT_REGISTER_ID" ON "PROVISIONED_ZONE" ("ENVIRONMENT_REGISTER_ID");


CREATE INDEX "IX_RIGHT_SERVICE_ID" ON "RIGHT" ("SERVICE_ID");


CREATE INDEX "IX_SERVICE_PROVISIONED_ZONE_ID" ON "SERVICE" ("PROVISIONED_ZONE_ID");


CREATE UNIQUE INDEX "IX_ZONE_ENVIRONMENT_ID" ON "ZONE" ("ENVIRONMENT_ID");


CREATE UNIQUE INDEX "IX_ZONE_ENVIRONMENT_REGISTER_ID" ON "ZONE" ("ENVIRONMENT_REGISTER_ID");



